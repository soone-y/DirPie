# ディレクトリパイ（DirPie）

ディレクトリパイは、Windows 環境向けの **ディレクトリ容量可視化ツール** です。
フォルダ階層と容量の関係を円グラフ（Pie）として表示し、
「どこが容量を占めているのか」を**一目で把握できること**を主目的としています。

本ツールは、ディスク整理や開発環境の容量把握を行いたい者を主な対象としています。

つまり、ストレージ整理に役立ちます。

※ 実行ファイル（exe）の配布可否については licence.md を参照してください。

---

## 何が分かるか

ディレクトリパイを使うことで、次のような情報を直感的に把握できます。

* どのフォルダが容量を多く消費しているか
* 容量の偏りがどの階層で発生しているか
* 親ディレクトリに対する各子ディレクトリの相対比率
* 削除・整理候補になりうる領域

数値一覧では把握しにくい **「比率」や「構造」** を視覚的に捉えるためのツールです。

---

## ダウンロード / 実行方法

### 実行ファイルを使う場合（推奨）
本プロジェクトの配布用実行ファイルは **GitHub Releases** にあります。

- Releases ページから `DirPie.exe` をダウンロードしてください
- 対応環境: Windows 10 / 11（x64）
- 本ソフトは **ファイル内容の読み取り・変更・削除を行いません**
  （取得するのはファイルサイズとパス情報のみです）

※ リポジトリ直下には実行ファイルは置いていません。

---

### ソースコードからビルドする場合

- ソースコード: `src/DirPie4.cpp`
- ビルド補助スクリプト: `scripts/build.ps1`（PowerShell 用）

本プロジェクトは C++ による Windows ネイティブアプリケーションです。
Visual Studio（MSVC）または MinGW-w64 + Windows SDK を使用してビルドできます。

---

## ディレクトリ構成

/
├─ src/ ソースコード
├─ scripts/ ビルド用スクリプト
├─ README.md
├─ README_en.md
└─ LICENSE.md

配布用の `.exe` は GitHub Releases にのみ配置します。

---
## ファイルの検証（任意）

配布されている `DirPie.exe` について、改変されていないことを確認するため、
SHA-256 ハッシュ値を公開しています。

### 確認方法（PowerShell）
```powershell
Get-FileHash DirPie.exe -Algorithm SHA256

---

## 使い方（考え方）

1. 対象ディレクトリを選択
2. 円グラフで容量配分を確認
3. 気になるセクタ（扇形）を辿って下位階層へ進む
4. 必要に応じて上位へ戻る

操作は「探索」に近く、
**ファイルマネージャではなく、容量構造ビューア**として使うことを想定しています。

---

## 表示の見方

* **円全体**

  * 現在のディレクトリの総容量
* **各セクタ（扇形）**

  * 直下のサブディレクトリ、またはファイル群
* **セクタの大きさ**

  * 使用容量の比率を表す
* **色分け**

  * 視認性向上のための識別用（意味論的区別ではない）

※ 正確な数値把握よりも、**傾向把握**を重視した設計です。

---

## 内部処理の概要

ディレクトリパイ内部では、概ね次の処理を行っています。

1. ディレクトリ走査

   * 再帰的にフォルダ・ファイルを列挙
2. 容量集計

   * 各ノード（ディレクトリ）に対して合計サイズを計算
3. 構造保持

   * 階層構造をツリーとして保持
4. 描画変換

   * 容量比率を角度に変換し円グラフとして描画
5. 操作反映

   * ユーザー操作に応じて表示対象ノードを切り替え

**ファイル内容を読む処理は行いません。**
取得するのはファイルサイズとパス情報のみです。

* 書き込みや削除など、ファイルシステムを変更する処理は行いません
* ネットワーク通信を行う処理は含まれていません
* 外部サービスやクラウドとの連携はありません

---

## AI生成コードについて

本プロジェクトのコードには、
**AI（ChatGPT 等）によって生成・補助されたコードが含まれています。**

* 設計方針・調整・最終判断は人間が行っています

この点を理解した上で利用してください。

---

## 開発状況・方針

* 現在は **機能追加を停止**しています
* 主目的は以下です

  * 安定性の確保
  * 内部整理
  * 可読性・保守性の改善
* 大規模な仕様変更や新機能追加は予定していません

---

## ライセンス

利用条件・改変・再配布に関する扱いは
**`licence.md` を参照してください。**

README では要約のみを示し、
法的条件は licence.md に集約します。

---

## 免責事項

* 本ソフトウェアの使用によって生じたいかなる損害についても、作者は責任を負いません
* 自己責任での利用を前提とします

---

## 作者・クレジット

* 作者: soone-y(GitHub)
* 本プロジェクトは個人開発です

---

## ビルドについて

本プロジェクトは **Windows ネイティブアプリケーション** として構築されています。
外部ランタイムやスクリプト環境を必要とせず、C++ によるネイティブビルドを前提としています。

---

### 前提環境

* OS: Windows 10 / 11
* アーキテクチャ: x64
* 使用言語: C++
* 利用 API: Windows API（Win32）

開発・ビルドには以下のいずれかの環境を想定しています。

* Visual Studio（MSVC）
* MinGW-w64 などの Windows 向け C++ コンパイラ

※ いずれの場合も **Windows SDK** が必要です。

---

### ビルドの考え方

* 単一の実行ファイル（`.exe`）を生成することを目的としています
* 特別なビルドツール（CMake 等）には依存していません
* IDE からのビルド、またはコマンドラインからの直接ビルドを想定しています

そのため、
**「C++ ファイルを Windows アプリとしてコンパイルできる環境」**
が整っていればビルド可能です。

---

### 文字コード・設定に関する注意

* Unicode（UTF-16）を前提としたコード構成です
* Windows API のワイド文字版（`W` 系 API）を使用しています
* コンパイラ設定で Unicode が有効になっていることを前提とします

---

### 依存関係について

* 外部ライブラリは原則として使用していません
* Windows に標準で含まれる API / ライブラリのみを利用しています

追加の DLL を同梱する必要はありません。

---

### 補足

* ビルド環境の差異による問題が発生する可能性があります
* 環境依存の不具合については、各自の判断で調整してください
